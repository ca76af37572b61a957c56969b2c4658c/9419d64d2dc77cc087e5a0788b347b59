# LAB 4 Task 6: Add MySQL connection variables
# LAB 5 Task 7: Update AGAMA MySQL connection

#HOSTS

mysql_host: bematv-2 #name-2 internal ip


# USERS

mysql_database: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32346666633734343162613965626535666364383831303963646230393664383364633765313031
          3763316332646138386238333739633034663762386530660a653363646134663631613735656637
          64383838326236306262653765653465326461386337633536333630346162666235346464366431
          6366326534356163640a616536646662356439653661363633626161346566643238343932383836
          6634

mysql_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37653931353033343562663333653536353264353032316139613236306230303561663239353338
          3435613061343630316365303737326162666564663136390a366431653531303564313430326262
          33353761666663306138636239323735333737383537353531353432613730656164303530336138
          3033316466323334370a666465333464356530383365356437323833303036626262386265373839
          6366

mysql_exporter_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37303939613865386264396332633539323966653030623237643265636538396161376539363136
          6133616665343734363138393435336437623030323130310a353931343265626336376366393839
          36643363303432313537323037366332343763383965636233653538383637346265633562373431
          3365363964323237620a656662626333393637346339636636393637653336323765623466633565
          3937

agama_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63336332386363376232656666376236303662656433323562666461656465636662643430666233
          6638313166373531643638396433353365656365643035350a346636396163663936656262643065
          39303865613861383735383965663261653566653464613738346639626136643661663763643833
          6232326665376335350a653939343163616635303234383737343062663263306536386632613438
          3865

prometheus_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31646362326334323166366662383361396638623237353432353431363965646165633334346136
          6332326662346565313164623137653361626136323138650a613062623639353761333962383934
          38353439303934383731346235323039326266626464636436353537666663333133303263633963
          6362303262343737310a616631643162303665636634376139636161353435383337373864373661
          3932

pinger_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33643734343335626664623335383866393034393131616365393235613765356434383932373639
          6430336434623439623062343238343836303637666333380a353336653163346137656136646264
          66666636306263646466636161363539383632623566613439383462663835336234366636366631
          3434653635626666330a383831383064656163346134356436363037326361626661366339383662
          3631


# LAB 10
## BACKUP USERS

backup_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61343265343938353239323666633566633961633930616136353138363036646433643237613734
          6261313463373338366163643737343035336636323935380a373130346165663062373161636363
          38386461343130396661663162363035663838626662616639363134623931303537646532663532
          3766353065353631360a643633346539333038326465396266316335313063343564326534343534
          6531


# LAB 11
# REPLICATION

replication: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33326565343965613666343666666161396638376563316535323034646665653030666562656135
          3030646236633931636536313966363363653366316263640a633661373765626565663865393763
          38333964653561383966383464663532303337326435393434333564313430646263373364313563
          6262633831363939370a616662333939636435373962326563353864623362363361396138373434
          6436


# PASSWORDS

mysql_user_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64323565356161653563613935666662343962663239366465386534366239366139353433666639
          6366386230643434353565366162353266666239303435300a666237313163383337323939643534
          35306333313365633262623563393732366663313663613932396462613131316366626139343937
          6539666336663561650a633366633361333630373033653134383366333063613538313036353063
          3735


# LAB 7
mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36653530363438636134303862643565613163373565613334613966376163323465306532303731
          3037303961353065613538303264643464393038623262630a333832313433656566346564633764
          33623462643466613734353337623634626162653538333034623832353535643632666634343831
          6463363931613834380a366638633666303062663230653539616562613966643936343765363338
          6332


grafana_admin_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66323430303234643763316233326131346136646263653166326432336532656161663839353161
          3537396237343539656336646137373035336339376431350a646333643736633239343136623262
          63613864303439303365356165663836386238376663613663353135353966636363323936313839
          3234373962326138380a383231363865623530616539613637383163303364366530373133363462
          6639


# LAB 10
# BACKUP PASSWORDS

backup_user_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39626133613165376530323063613635356666623064303262396138303233656562626632643762
          6539623637613039663061663166336630323635313431300a663232373765616362666337393630
          39336334623662386635323162643063353364336438383036313130303839346436383666353365
          3936623066313330310a353465356564356538356334666131316433326636373535626265366131
          6463

mysql_backup_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34363937333834653165663862393638373437656262303434343437366365316564356364343831
          6136323531326533363136636636613765333139653266630a356132393435646462633863623262
          39393634626238336533663332656636343639366566303639643866373265396366323662393137
          3130653236663039660a653134666331616537616230313464623137633538663433663939643031
          38643163326533326266666331643535326536333630383463376539613038656531

backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBSne71MCp6CQCHURWe3CLud6vPDkLfL83Oab/giAI7O


# LAB 11
# REPLICATION

replication_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39343932383332326564366461643237343765366330333537656165373332306233653238376539
          3466656231623931653431663731306333653065393561640a323937323862643938383036333039
          63316233376165663066346636323165663433623933306433633030356563313837303464646135
          3030646533303766620a353735333261336236353932306461313064623762366136343138316563
          3635


# LAB 5
## Task 3: Configure DNS forwarders

forwarders:
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.9
  - 9.9.9.10

## Task 4: Configure access rules for DNS server
allowed:
  - 192.168.42.0/24;
  - 127.0.0.0/8;

## Variables for domain and zone
domain: pho.ng #root domain // strtup_name
zone: db.pho #master zone = db.pho file

public_url: http://{{ ansible_host }}:{{ ansible_port//100}}80 
vm: "{{ inventory_hostname }}"
vm1: bematv-1
vm2: bematv-2

# LAB 9
backup_ip: 192.168.42.156
backup_ssh: bematv@backup.pho.ng

a_records:
  - subdomain: backup
    ip: 192.168.42.156

# LAB 11 Task 4
node_id: "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'].split('.')[-1] }}"
