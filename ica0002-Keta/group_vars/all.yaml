########## DNS ##########

# LAB 5
## Task 3: Configure DNS forwarders

forwarders:
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.9
  - 9.9.9.10


## Task 4: Configure access rules for DNS server
allowed:
  - 192.168.42.0/24
  - 127.0.0.0/8
  - 172.17.0.0/16


## Variables for domain and zone
domain: FIX #root domain // strtup_name
zone: FIX #master zone = db.pho file


public_url: http://{{ ansible_host }}:{{ ansible_port//100}}80 
vm_hostname: "{{ inventory_hostname }}"
vm0: bematv FIX
vm1: bematv-1 FIX
vm2: bematv-2 FIX
vm3: bematv-3 FIX


# LAB 14 Task 6. Create records for your services

dns_a_records:
  backup: 192.168.42.156
  cloudfare: 1.1.1.1
  google: 8.8.8.8
  google2: 8.8.4.4


dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  web1: "{{ groups['web_servers'][0] }}"
  web2: "{{ groups['web_servers'][1] }}"
  lb1: "{{ groups['web_servers'][0] }}"
  lb2: "{{ groups['web_servers'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  ns2: "{{ groups['dns_servers'][1] }}"
  ns3: "{{ groups['dns_servers'][2] }}"

exporters:
  - endpoint: "mysql-metrics"
    port: 9104
    groups: "db_servers"
    name: mysql
  - endpoint: "bind-metrics"
    port: 9119
    groups: "dns_servers"
    name: ns
  - endpoint: "node-metrics"
    port: 9100
    groups: "all"
    name: bematv- FIX
  - endpoint: "nginx-metrics"
    port: 9113
    groups: "nginx"
    name: web
  - endpoint: "keepalived-metrics"
    port: 9165
    groups: "keepalived"
    name: lb
  - endpoint: "haproxy-metrics"
    port: 9101
    groups: "haproxy"
    name: lb
  - endpoint: "influxdb-metrics"
    port: 9424
    groups: "influxdb"
    name: influxdb



########## IP ADDRESSES ##########

# LAB 9
backup_ip: 192.168.42.156
grafana_ip: 172.17.0.2
virtual_ip: 192.168.100
backup_ssh: bematv@backup.pho.ng FIX




########## PORTS ##########


## Service Ports
grafana_port: 3001
agama_port: 8001
nginx_port: 8080
pinger_port: 8086
prometheus_port: 9090
influxdb_port: 8086
haproxy_port: 88


## Exporter Ports
mysql_exporter_port: 9104
bind_exporter_port: 9119
node_exporter_port: 9100
nginx_exporter_port: 9113
influxdb_exporter_port: 9424
keepalived_exporter_port: 9165
haproxy_exporter_port: 9101




########## SORTING ##########

# LAB 11 Task 4

node_id: "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'].split('.')[-1] }}"

agama_container_per_vm: 2

keepalived_interface: ens3

keepalived_virtual_id: 13

keepalived_master_priority: 100

keepalived_slave_priority: 99

backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBSne71MCp6CQCHURWe3CLud6vPDkLfL83Oab/giAI7O # Equals to key1 and key 2




########## HOSTS ##########

# LAB 4 Task 6: Add MySQL connection variables
# LAB 5 Task 7: Update AGAMA MySQL connection

mysql_host: FIX #name-2 internal ip




########## DNS KEYS ##########
# LAB 14 Task 2. Generate DNS key

dns_transfer_key: FIX

dns_update_key: FIX




########## USERS ##########

mysql_database: agama

mysql_user: agama

mysql_exporter_user: exporter

agama_user: agama

prometheus_user: prometheus

pinger_user: pinger


# LAB 10
## BACKUP USERS

backup_user: backup


# LAB 11
# REPLICATION

replication_user: replication





########## PASSWORDS ##########

mysql_user_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38396562353866613337643466623863373533376236383463306261633939333731386334343264
          3733656662616130663462346132376535646435303931330a666533653765343634353839626130
          64653066636662666631313936633039666162376532633732343565363332373432383763373664
          6262316134363732370a333162336162383161663434366432393637326365363839613263373634
          6263


# LAB 7
mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30623132356265663234393464613964393431393037363364396465356639313636303133366430
          3261386337613935366539653732396261356432323164340a323262326631336361663331333366
          64373264343765626235633034643736343765626231303066326433343562613664323865616333
          6538643762323466340a643636653039333538396233363166323631623164333330316232633233
          6464


grafana_admin_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39613131343766303961323130353464313037376365376637636134656162373934313533316265
          6338346336373732323232373466373936396433306235300a633931323064633165383733613739
          38353235646639326263633737623664323261396464643433656135653736636434663365363036
          6461626639383134340a653966613462356335643537336264656233316361376333376331636564
          3337


# LAB 10
# BACKUP PASSWORDS

backup_user_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38656137383236663762333132363232393439613236323539653536343832616239363966353834
          6466643361636637643834346238616165323466343765310a323464643865383065343766306364
          65393161353761356162383663653664633534663263336362343866356637356633336264353530
          3565653832396566350a666435613737623631323966366430633666316263633866656532636538
          3961

mysql_backup_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31623933653035353138353761373432633339303238353233346336636437396336633562303164
          3039376331346238393866653036616533373864303761380a663566306163646137363339373431
          36363136313938646364646138383961376238326631333763373861663761386235336334316162
          3430376633376639320a323235333232643736346436303862396439363666336138343234633936
          6535


# LAB 11
# REPLICATION

replication_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66303964303335356532326437663431373136356363326430643538613037323238666134643530
          3538646337353365333764623839663561656535303232390a663134323238636330613437313139
          66656132383361626634353237336637383231343233613830663236636262643266313665653262
          3339616163613565380a613761393639313961373630663838613931356132323466356362303939
          3739


# LAB EXAM

docker_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38393135636533336533373964396339363063313533333934623764653039323430626136313932
          6361366437303734306237626232376263306333626333340a376237626131373332376430646235
          35393838396461616134356139386366376634636261303935616338386139353132363531623633
          6161386266353162630a653634376630306237353833643534356134646265616464643765633939
          30613964316631306239653935363765616533613632636162663163383637616230

FIX ALL PASS