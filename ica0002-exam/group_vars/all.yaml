########## DNS ##########

# LAB 5
## Task 3: Configure DNS forwarders

forwarders:
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.9
  - 9.9.9.10


## Task 4: Configure access rules for DNS server
allowed:
  - 192.168.42.0/24
  - 127.0.0.0/8
  - 172.17.0.0/16


## Variables for domain and zone
domain: pho.ng #root domain // strtup_name
zone: db.pho #master zone = db.pho file


public_url: http://{{ ansible_host }}:{{ ansible_port//100}}80 
vm_hostname: "{{ inventory_hostname }}"
vm0: bematv
vm1: bematv-1
vm2: bematv-2
vm3: bematv-3


# LAB 14 Task 6. Create records for your services

dns_a_records:
  backup: 192.168.42.132
  cloudfare: 1.1.1.1
  google: 8.8.8.8
  google2: 8.8.4.4


dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  web1: "{{ groups['nginx'][0] }}"
  web2: "{{ groups['nginx'][1] }}"
  web3: "{{ groups['nginx'][2] }}"
  lb1: "{{ groups['web_servers'][0] }}"
  lb2: "{{ groups['web_servers'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  ns2: "{{ groups['dns_servers'][1] }}"
  ns3: "{{ groups['dns_servers'][2] }}"

exporters:
  - endpoint: "mysql-metrics"
    port: 9104
    groups: "db_servers"
    name: mysql
  - endpoint: "bind-metrics"
    port: 9119
    groups: "dns_servers"
    name: ns
  - endpoint: "node-metrics"
    port: 9100
    groups: "all"
    name: bematv-
  - endpoint: "nginx-metrics"
    port: 9113
    groups: "nginx"
    name: web
  - endpoint: "keepalived-metrics"
    port: 9165
    groups: "keepalived"
    name: lb
  - endpoint: "haproxy-metrics"
    port: 9101
    groups: "haproxy"
    name: lb
  - endpoint: "influxdb-metrics"
    port: 9424
    groups: "influxdb"
    name: influxdb




########## IP ADDRESSES ##########

# LAB 9
grafana_ip: 172.17.0.2
virtual_ip: 192.168.100
backup_ssh: bematv@backup.pho.ng




########## PORTS ##########


## Service Ports
grafana_port: 3001
agama_port: 8001
nginx_port: 8080
pinger_port: 8086
prometheus_port: 9090
influxdb_port: 8086
haproxy_port: 88


## Exporter Ports
mysql_exporter_port: 9104
bind_exporter_port: 9119
node_exporter_port: 9100
nginx_exporter_port: 9113
influxdb_exporter_port: 9424
keepalived_exporter_port: 9165
haproxy_exporter_port: 9101




########## SORTING ##########

# LAB 11 Task 4

node_id: "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'].split('.')[-1] }}"

agama_container_per_vm: 5

keepalived_interface: ens3

keepalived_virtual_id: 13

keepalived_master_priority: 100

keepalived_slave_priority: 99


backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90 # Equals to key1 and key 2

backup_server_ssh_key1: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34636262373465333436386633353739666134663438643134646337646232306264633964393739
          3463303261356664626231336161323338636534626631660a653532306635633164313535616235
          66613436616231313335326235393562366136613538663665386235623639633239373136363539
          6462636337363233640a373430663264323965366138306161353730653237303532313533613339
          3832

backup_server_ssh_key2: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30333736363231316163313332376362356530343832393864633237353764343332346630623633
          3037353430393565306263303930313137316130383565660a383164383964356231646439303766
          66303632313330346162653137363631316538656434323239316537613764326566386234316661
          6136353337373937330a386666366436393765326432636438653033393634396438616230623134
          37393133346164636534383231313262626333346134623866646630386335623932393032666437
          3636656338646662616463623739366532313237653530393931




########## HOSTS ##########

# LAB 4 Task 6: Add MySQL connection variables
# LAB 5 Task 7: Update AGAMA MySQL connection

mysql_host: bematv-2 #name-2 internal ip




########## DNS KEYS ##########
# LAB 14 Task 2. Generate DNS key

dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33656664323533636363363562646433666134643533346236396364656137616430373035353861
          3839343161376239376436306663313361323536313166330a633131643262653162656564663933
          38326438343632633361653535343438313261383433383363333965376135373162383365373636
          3866326230623165330a613839373663363666326264326364353030623262653037396331356339
          31623538343635353139376135343565616638656261383830306531346230653738303164303039
          3131396335663830613766633032336336373964306566353161

dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36333763616435643736353637626138663764366362636339343835626632653936333361393564
          3936643132623139623564323239663361356139623162350a623831313366616336383539613933
          63323138393035653737353562643134363366616639316664643834346263623462343437323138
          6263326135383362630a396339343762303263613966616461366435643638383135623630386466
          30373332643764633539653664643430623535663533353063626364336632643838663632623433
          6666623339643732383038336232653536323931653861663538




########## USERS ##########

mysql_database: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32346666633734343162613965626535666364383831303963646230393664383364633765313031
          3763316332646138386238333739633034663762386530660a653363646134663631613735656637
          64383838326236306262653765653465326461386337633536333630346162666235346464366431
          6366326534356163640a616536646662356439653661363633626161346566643238343932383836
          6634

mysql_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37653931353033343562663333653536353264353032316139613236306230303561663239353338
          3435613061343630316365303737326162666564663136390a366431653531303564313430326262
          33353761666663306138636239323735333737383537353531353432613730656164303530336138
          3033316466323334370a666465333464356530383365356437323833303036626262386265373839
          6366

mysql_exporter_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37303939613865386264396332633539323966653030623237643265636538396161376539363136
          6133616665343734363138393435336437623030323130310a353931343265626336376366393839
          36643363303432313537323037366332343763383965636233653538383637346265633562373431
          3365363964323237620a656662626333393637346339636636393637653336323765623466633565
          3937

agama_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63336332386363376232656666376236303662656433323562666461656465636662643430666233
          6638313166373531643638396433353365656365643035350a346636396163663936656262643065
          39303865613861383735383965663261653566653464613738346639626136643661663763643833
          6232326665376335350a653939343163616635303234383737343062663263306536386632613438
          3865

prometheus_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31646362326334323166366662383361396638623237353432353431363965646165633334346136
          6332326662346565313164623137653361626136323138650a613062623639353761333962383934
          38353439303934383731346235323039326266626464636436353537666663333133303263633963
          6362303262343737310a616631643162303665636634376139636161353435383337373864373661
          3932

pinger_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33643734343335626664623335383866393034393131616365393235613765356434383932373639
          6430336434623439623062343238343836303637666333380a353336653163346137656136646264
          66666636306263646466636161363539383632623566613439383462663835336234366636366631
          3434653635626666330a383831383064656163346134356436363037326361626661366339383662
          3631


# LAB 10
## BACKUP USERS

backup_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61343265343938353239323666633566633961633930616136353138363036646433643237613734
          6261313463373338366163643737343035336636323935380a373130346165663062373161636363
          38386461343130396661663162363035663838626662616639363134623931303537646532663532
          3766353065353631360a643633346539333038326465396266316335313063343564326534343534
          6531


# LAB 11
# REPLICATION

replication_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33326565343965613666343666666161396638376563316535323034646665653030666562656135
          3030646236633931636536313966363363653366316263640a633661373765626565663865393763
          38333964653561383966383464663532303337326435393434333564313430646263373364313563
          6262633831363939370a616662333939636435373962326563353864623362363361396138373434
          6436


# LAB EXAM

docker_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61393433346232313264316262616537663065623034303637363961326534323161613861313234
          6330343961343066396562316161633636373337666430380a363932656338306561653066643066
          63653331393333336335663933376332313237303464396430646438633838646239373931373037
          3431643237613133380a373364343361363734616566383936613264396562326438333439653335
          3030




########## PASSWORDS ##########

mysql_user_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38396562353866613337643466623863373533376236383463306261633939333731386334343264
          3733656662616130663462346132376535646435303931330a666533653765343634353839626130
          64653066636662666631313936633039666162376532633732343565363332373432383763373664
          6262316134363732370a333162336162383161663434366432393637326365363839613263373634
          6263


# LAB 7
mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30623132356265663234393464613964393431393037363364396465356639313636303133366430
          3261386337613935366539653732396261356432323164340a323262326631336361663331333366
          64373264343765626235633034643736343765626231303066326433343562613664323865616333
          6538643762323466340a643636653039333538396233363166323631623164333330316232633233
          6464


grafana_admin_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39613131343766303961323130353464313037376365376637636134656162373934313533316265
          6338346336373732323232373466373936396433306235300a633931323064633165383733613739
          38353235646639326263633737623664323261396464643433656135653736636434663365363036
          6461626639383134340a653966613462356335643537336264656233316361376333376331636564
          3337


# LAB 10
# BACKUP PASSWORDS

backup_user_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38656137383236663762333132363232393439613236323539653536343832616239363966353834
          6466643361636637643834346238616165323466343765310a323464643865383065343766306364
          65393161353761356162383663653664633534663263336362343866356637356633336264353530
          3565653832396566350a666435613737623631323966366430633666316263633866656532636538
          3961

mysql_backup_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31623933653035353138353761373432633339303238353233346336636437396336633562303164
          3039376331346238393866653036616533373864303761380a663566306163646137363339373431
          36363136313938646364646138383961376238326631333763373861663761386235336334316162
          3430376633376639320a323235333232643736346436303862396439363666336138343234633936
          6535


# LAB 11
# REPLICATION

replication_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66303964303335356532326437663431373136356363326430643538613037323238666134643530
          3538646337353365333764623839663561656535303232390a663134323238636330613437313139
          66656132383361626634353237336637383231343233613830663236636262643266313665653262
          3339616163613565380a613761393639313961373630663838613931356132323466356362303939
          3739


# LAB EXAM

docker_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38393135636533336533373964396339363063313533333934623764653039323430626136313932
          6361366437303734306237626232376263306333626333340a376237626131373332376430646235
          35393838396461616134356139386366376634636261303935616338386139353132363531623633
          6161386266353162630a653634376630306237353833643534356134646265616464643765633939
          30613964316631306239653935363765616533613632636162663163383637616230
